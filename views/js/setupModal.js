"use strict";(()=>{var l="ANONYMOUS_CUSTOMER_ID",i="CUSTOMER_ID",a=t=>{if(t===null)return;if(t.dataset.userId!==""&&t.dataset.userId!==void 0){localStorage.setItem(i,t.dataset.userId);return}let r=localStorage.getItem(l),e=localStorage.getItem(i);if(e!==null){t.dataset.userId=e;return}if(r!==null){t.dataset.userId=r;return}let n=crypto.randomUUID();localStorage.setItem(l,n),t.dataset.userId=n};var u=(t,r)=>{let e=t.replace("#",""),n=parseInt(e.substring(0,2),16),o=parseInt(e.substring(2,4),16),s=parseInt(e.substring(4,6),16);return`rgba(${n}, ${o}, ${s}, ${r})`},p=()=>{let t=document.body;t.style.setProperty("--dialog-background-color",window.DIALOG_VARIABLES.backgroundColor),t.style.setProperty("--dialog-primary-color",window.DIALOG_VARIABLES.primaryColor),t.style.setProperty("--dialog-primary-color-alpha",u(window.DIALOG_VARIABLES.primaryColor,.2)),t.style.setProperty("--dialog-cta-text-color",window.DIALOG_VARIABLES.ctaTextColor),t.style.setProperty("--dialog-shop-font-family",window.DIALOG_VARIABLES.fontFamily)},I=t=>{if(t===null)return;new MutationObserver(e=>{e.forEach(n=>{if(n.type==="childList"){let o=document.getElementById("dialog-ai-container");if(o===null)return;g(o);let d=window.getComputedStyle(o).getPropertyValue("display")==="flex",c=o.dataset.modalState==="MODAL_VIEW"||o.dataset.modalState==="BOOKMARK_VIEW";document.body.style.overflow=d&&!c?"hidden":"visible"}})}).observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style"]})},g=t=>{window.innerWidth>768||(t.style.top="0px",t.style.height="100dvh")},m=()=>{let t=document.getElementById("dialog-script");if(t===null)return;let r=t.dataset.src;if(r===void 0)return;let e=document.createElement("script");e.setAttribute("src",r),e.setAttribute("type","module"),e.setAttribute("id","dialog-script-body"),document.body.appendChild(e),t.remove()};document.addEventListener("DOMContentLoaded",()=>{window.Weglot!==void 0&&(window.DIALOG_VARIABLES.locale=window.Weglot.getCurrentLang()),m(),p();let t=document.getElementById("dialog-shopify-ai");t!==null&&(a(t),I(t))});})();
