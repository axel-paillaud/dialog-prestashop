{% extends '@PrestaShop/Admin/layout.html.twig' %}

{% form_theme generalForm '@PrestaShop/Admin/TwigTemplateForm/prestashop_ui_kit.html.twig' %}
{% form_theme appearanceForm '@PrestaShop/Admin/TwigTemplateForm/prestashop_ui_kit.html.twig' %}

{% block content %}
<div>
    <ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a class="nav-link {{ activeTab == 'configuration' ? 'active' : '' }}" id="configuration-tab" data-toggle="tab" href="#configuration" role="tab" aria-controls="configuration" aria-expanded="true" aria-selected="{{ activeTab == 'configuration' ? 'true' : 'false' }}">
                <i class="material-icons">settings</i> {{ 'Configuration'|trans({}, 'Modules.Askdialog.Admin') }}
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link {{ activeTab == 'appearance' ? 'active' : '' }}" id="appearance-tab" data-toggle="tab" href="#appearance" role="tab" aria-controls="appearance" aria-expanded="{{ activeTab == 'appearance' ? 'true' : 'false' }}" aria-selected="{{ activeTab == 'appearance' ? 'true' : 'false' }}">
                <i class="material-icons">palette</i> {{ 'Appearance'|trans({}, 'Modules.Askdialog.Admin') }}
            </a>
        </li>
    </ul>

    <div class="tab-content" id="tabContent">
        <div class="tab-pane fade {{ activeTab == 'configuration' ? 'show active' : '' }}" id="configuration" role="tabpanel" aria-labelledby="configuration-tab">
            {{ form_start(generalForm) }}
            <div class="card">
                <h3 class="card-header">
                    <i class="material-icons">vpn_key</i> {{ 'API Configuration'|trans({}, 'Modules.Askdialog.Admin') }}
                </h3>
                <div class="card-body">
                    <div class="form-wrapper">
                        {{ form_widget(generalForm) }}
                        <div class="form-group row">
                            <label class="form-control-label col-sm"></label>
                            <div class="col-sm">
                                <div class="alert alert-info mb-2">
                                    {{ 'Don\'t have API keys yet?'|trans({}, 'Modules.Askdialog.Admin') }}
                                </div>
                                <a href="https://app.askdialog.com/onboarding" target="_blank" class="btn btn-primary btn-sm">
                                    <i class="material-icons">launch</i> {{ 'Go to AskDialog onboarding'|trans({}, 'Modules.Askdialog.Admin') }}
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="d-flex justify-content-end">
                        <button class="btn btn-primary" type="submit">
                            {{ 'Save'|trans({}, 'Admin.Actions') }}
                        </button>
                    </div>
                </div>
            </div>
            {{ form_end(generalForm) }}
        </div>

        <div class="tab-pane fade {{ activeTab == 'appearance' ? 'show active' : '' }}" id="appearance" role="tabpanel" aria-labelledby="appearance-tab">
            {{ form_start(appearanceForm) }}
            <div class="card">
                <h3 class="card-header">
                    <i class="material-icons">palette</i> {{ 'Widget Appearance'|trans({}, 'Modules.Askdialog.Admin') }}
                </h3>
                <div class="card-body">
                    <div class="form-wrapper">
                        <div class="form-group row">
                            <label class="form-control-label col-sm"></label>
                            <div class="col-sm">
                                <div class="alert alert-info">
                                    {{ 'Customize the appearance of the Dialog widget. Leave fields empty to use default values or allow theme overrides.'|trans({}, 'Modules.Askdialog.Admin') }}
                                </div>
                            </div>
                        </div>
                        {{ form_widget(appearanceForm) }}
                    </div>
                </div>
                <div class="card-footer">
                    <div class="d-flex justify-content-end">
                        <button class="btn btn-primary" type="submit">
                            {{ 'Save'|trans({}, 'Admin.Actions') }}
                        </button>
                    </div>
                </div>
            </div>
            {{ form_end(appearanceForm) }}
        </div>
    </div>
</div>
{% endblock %}
